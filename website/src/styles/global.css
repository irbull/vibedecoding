@import "tailwindcss";

@theme {
  --font-family-mono: 'Space Mono', monospace;
  --font-family-sans: 'Space Grotesk', sans-serif;
}

/* Theme Variables */
:root {
  /* Dark theme (default) */
  /* Dark theme (default) */
  --color-terminal-green: #00ff00;
  --color-terminal-green-light: #33ff33;
  --color-terminal-green-dark: #00cc00;
  --color-bg: #000000;
  --color-bg-lighter: #0a0a0a;
  --color-bg-card: #050505;
  --color-text: #e5e7eb;
  --color-text-dim: #00aa00;
  --color-accent: #00f0ff; /* New accent color */
  --grid-opacity: 0.1;
  --scanline-opacity: 0.05;
}

[data-theme="light"] {
  /* Light theme - retro paper aesthetic */
  --color-terminal-green: #22c55e;
  --color-terminal-green-light: #16a34a;
  --color-terminal-green-dark: #15803d;
  --color-bg: #f5f1e8;
  --color-bg-lighter: #ffffff;
  --color-bg-card: #faf8f3;
  --color-text: #1a1a1a;
  --color-text-dim: #666666;
  --grid-opacity: 0.015;
  --scanline-opacity: 0.008;
}

* {
  border-color: color-mix(in srgb, var(--color-terminal-green) 30%, transparent);
}

body {
  background-color: var(--color-bg);
  color: var(--color-text);
  font-family: var(--font-family-sans);
  -webkit-font-smoothing: antialiased;
  background-image: 
    linear-gradient(color-mix(in srgb, var(--color-terminal-green) calc(var(--grid-opacity) * 100%), transparent) 1px, transparent 1px),
    linear-gradient(90deg, color-mix(in srgb, var(--color-terminal-green) calc(var(--grid-opacity) * 100%), transparent) 1px, transparent 1px);
  background-size: 50px 50px;
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow-x: hidden;
}

/* Pixel border effect */
.pixel-border {
  position: relative;
  border: 3px solid var(--color-terminal-green);
  box-shadow: 
    0 0 0 1px var(--color-bg),
    0 0 0 4px var(--color-terminal-green),
    0 0 20px color-mix(in srgb, var(--color-terminal-green) 30%, transparent);
  transition: box-shadow 0.3s ease;
}

.pixel-border::before,
.pixel-border::after {
  content: '';
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--color-terminal-green);
  transition: background-color 0.3s ease;
}

.pixel-border::before {
  top: -4px;
  left: -4px;
}

.pixel-border::after {
  bottom: -4px;
  right: -4px;
}

/* Glow effect for headings */
.text-glow {
  text-shadow: 0 0 10px color-mix(in srgb, var(--color-terminal-green) 50%, transparent);
  transition: text-shadow 0.3s ease;
}

/* Code blocks */
pre {
  background-color: var(--color-bg-card);
  border: 1px solid var(--color-terminal-green);
  padding: 1rem;
  border-radius: 0.25rem;
  overflow-x: auto;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

code {
  font-family: var(--font-family-mono);
  font-size: 0.875rem;
  color: var(--color-terminal-green-light);
  transition: color 0.3s ease;
}

/* Force font on prose */
.prose p, .prose li, .prose ul, .prose ol {
  font-family: var(--font-family-sans) !important;
  line-height: 2 !important; /* More breathing room */
  letter-spacing: 0.025em !important; /* tracking-wide */
}

/* Links */
a {
  color: var(--color-terminal-green);
  transition: color 0.2s ease;
}

a:hover {
  color: var(--color-terminal-green-light);
}

/* Smooth animations */
.fade-in {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scanline effect (subtle with flicker) */
.scanlines::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    transparent 50%,
    color-mix(in srgb, var(--color-terminal-green) calc(var(--scanline-opacity) * 100%), transparent) 51%
  );
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 9999;
  transition: opacity 0.3s ease;
  animation: flicker 8s infinite;
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.95; }
}

/* Film grain overlay */
.film-grain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
  opacity: 0.03;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.03) 2px,
      rgba(255, 255, 255, 0.03) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.03) 2px,
      rgba(255, 255, 255, 0.03) 4px
    );
  animation: grain 0.2s steps(3) infinite;
}

@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-1%, -1%); }
  20% { transform: translate(1%, 1%); }
  30% { transform: translate(-1%, 1%); }
  40% { transform: translate(1%, -1%); }
  50% { transform: translate(-1%, 0); }
  60% { transform: translate(1%, 0); }
  70% { transform: translate(0, -1%); }
  80% { transform: translate(0, 1%); }
  90% { transform: translate(-1%, -1%); }
}

[data-theme="light"] .film-grain {
  opacity: 0.02;
}

/* Vignette effect */
.vignette {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 3;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.15) 100%
  );
  transition: opacity 0.3s ease;
}

[data-theme="light"] .vignette {
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.08) 100%
  );
}

/* CRT Shake/Jitter Effect */
@keyframes crtShake {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-2px, 1px); }
  50% { transform: translate(2px, -1px); }
  75% { transform: translate(-1px, -2px); }
  100% { transform: translate(0, 0); }
}

@keyframes crtJitter {
  0%, 100% { transform: translateX(0); }
  10% { transform: translateX(-2px); }
  20% { transform: translateX(2px); }
  30% { transform: translateX(-1px); }
  40% { transform: translateX(1px); }
  50% { transform: translateX(0); }
}

.min-h-screen {
  animation: crtShake 0.15s infinite, crtJitter 6s infinite;
}

/* Glitch Effect */
.glitch {
  position: relative;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch::before {
  left: 2px;
  text-shadow: -1px 0 #ff00c1;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim 5s infinite linear alternate-reverse;
}

.glitch::after {
  left: -2px;
  text-shadow: -1px 0 #00fff9;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim2 5s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
  0% { clip: rect(30px, 9999px, 10px, 0); }
  5% { clip: rect(80px, 9999px, 90px, 0); }
  10% { clip: rect(10px, 9999px, 80px, 0); }
  15% { clip: rect(50px, 9999px, 20px, 0); }
  20% { clip: rect(90px, 9999px, 10px, 0); }
  25% { clip: rect(20px, 9999px, 60px, 0); }
  30% { clip: rect(60px, 9999px, 30px, 0); }
  35% { clip: rect(10px, 9999px, 50px, 0); }
  40% { clip: rect(40px, 9999px, 90px, 0); }
  45% { clip: rect(80px, 9999px, 20px, 0); }
  50% { clip: rect(30px, 9999px, 70px, 0); }
  55% { clip: rect(70px, 9999px, 40px, 0); }
  60% { clip: rect(20px, 9999px, 80px, 0); }
  65% { clip: rect(90px, 9999px, 10px, 0); }
  70% { clip: rect(10px, 9999px, 60px, 0); }
  75% { clip: rect(50px, 9999px, 30px, 0); }
  80% { clip: rect(80px, 9999px, 50px, 0); }
  85% { clip: rect(40px, 9999px, 90px, 0); }
  90% { clip: rect(60px, 9999px, 20px, 0); }
  95% { clip: rect(30px, 9999px, 70px, 0); }
  100% { clip: rect(70px, 9999px, 40px, 0); }
}

@keyframes glitch-anim2 {
  0% { clip: rect(10px, 9999px, 80px, 0); }
  5% { clip: rect(50px, 9999px, 20px, 0); }
  10% { clip: rect(90px, 9999px, 10px, 0); }
  15% { clip: rect(30px, 9999px, 60px, 0); }
  20% { clip: rect(70px, 9999px, 30px, 0); }
  25% { clip: rect(20px, 9999px, 90px, 0); }
  30% { clip: rect(60px, 9999px, 10px, 0); }
  35% { clip: rect(10px, 9999px, 50px, 0); }
  40% { clip: rect(40px, 9999px, 80px, 0); }
  45% { clip: rect(80px, 9999px, 40px, 0); }
  50% { clip: rect(30px, 9999px, 70px, 0); }
  55% { clip: rect(70px, 9999px, 20px, 0); }
  60% { clip: rect(20px, 9999px, 60px, 0); }
  65% { clip: rect(90px, 9999px, 30px, 0); }
  70% { clip: rect(10px, 9999px, 80px, 0); }
  75% { clip: rect(50px, 9999px, 10px, 0); }
  80% { clip: rect(80px, 9999px, 50px, 0); }
  85% { clip: rect(40px, 9999px, 90px, 0); }
  90% { clip: rect(60px, 9999px, 20px, 0); }
  95% { clip: rect(30px, 9999px, 70px, 0); }
  100% { clip: rect(70px, 9999px, 40px, 0); }
}

/* Typing Animation */
.typing {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid var(--color-terminal-green);
  animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
}

@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: var(--color-terminal-green) }
}
