---
import BaseLayout from './BaseLayout.astro';

interface Props {
  title: string;
  description: string;
  date: Date;
  readingTime?: number;
}

const { title, description, date, readingTime } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', { 
  year: 'numeric', 
  month: 'long', 
  day: 'numeric' 
});
---

<BaseLayout title={title} description={description}>
  <article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- Back button -->
    <div class="mb-8">
      <a 
        href="/blog" 
        class="inline-flex items-center gap-2 text-[--color-terminal-green] font-mono hover:text-[--color-terminal-green-light] transition-colors bg-[--color-bg-card]/80 backdrop-blur-sm px-3 py-1 rounded border border-[--color-terminal-green]/20"
      >
        <span>←</span>
        <span>Back to articles</span>
      </a>
    </div>

    <div class="bg-[--color-bg-card]/80 backdrop-blur-xl border border-[--color-terminal-green]/30 p-8 sm:p-12 rounded-xl shadow-[0_0_30px_rgba(0,255,0,0.1)] relative overflow-hidden group">
      <!-- Decorative corner -->
      <div class="absolute top-0 right-0 w-24 h-24 border-t-2 border-r-2 border-[--color-terminal-green]/50 rounded-tr-xl transition-all duration-500 group-hover:w-32 group-hover:h-32 group-hover:border-[--color-accent]"></div>
      <div class="absolute bottom-0 left-0 w-24 h-24 border-b-2 border-l-2 border-[--color-terminal-green]/50 rounded-bl-xl transition-all duration-500 group-hover:w-32 group-hover:h-32 group-hover:border-[--color-accent]"></div>

      <!-- Article Header -->
      <header class="mb-12 relative z-10">
      <div class="flex items-center gap-3 text-sm text-[--color-text-dim] font-mono mb-6">
        <time datetime={date.toISOString()}>{formattedDate}</time>
        {readingTime && (
          <>
            <span>•</span>
            <span>{readingTime} min read</span>
          </>
        )}
      </div>
      
      <h1 class="text-4xl sm:text-5xl font-bold text-[--color-terminal-green] text-glow mb-6 leading-tight">
        {title}
      </h1>
      
      <p class="text-xl text-[--color-text-light] leading-relaxed">
        {description}
      </p>
      
      <div class="h-1 w-24 bg-[--color-terminal-green] mt-8"></div>
    </header>

      <!-- Article Content -->
      <div class="prose prose-invert prose-lg max-w-none font-sans tracking-wide leading-loose
                prose-p:font-sans prose-li:font-sans prose-ul:font-sans prose-ol:font-sans
                prose-headings:text-[--color-terminal-green] 
                prose-headings:font-bold
                prose-headings:font-mono
                prose-h1:text-4xl
                prose-h2:text-3xl
                prose-h2:mt-12
                prose-h2:mb-6
                prose-h3:text-2xl
                prose-h3:mt-8
                prose-h3:mb-4
                prose-p:text-[--color-text-light]
                prose-p:leading-relaxed
                prose-a:text-[--color-terminal-green]
                prose-a:no-underline
                prose-a:hover:text-[--color-terminal-green-light]
                prose-strong:text-[--color-terminal-green-light]
                prose-strong:font-bold
                prose-code:text-[--color-terminal-green-light]
                prose-code:font-mono
                prose-code:before:content-['']
                prose-code:after:content-['']
                prose-pre:bg-[--color-bg-dark-card]
                prose-pre:border
                prose-pre:border-[--color-terminal-green]
                prose-ul:text-[--color-text-light]
                prose-ol:text-[--color-text-light]
                prose-li:my-2
                prose-blockquote:border-l-4
                prose-blockquote:border-[--color-terminal-green]
                prose-blockquote:text-[--color-text-light]
                prose-blockquote:italic">
      <slot />
    </div>

      <!-- Article Footer -->
      <footer class="mt-20 pt-8 border-t border-[--color-terminal-green]/30">
        <div class="flex flex-col sm:flex-row justify-between items-center gap-6">
          <a 
            href="/blog" 
            class="text-[--color-terminal-green] font-mono hover:text-[--color-terminal-green-light] transition-colors"
          >
            ← Back to all articles
          </a>
          
          <div class="text-[--color-text-dim] text-sm font-mono">
            Keep decoding the vibes
          </div>
        </div>
      </footer>
    </div>
  </article>
</BaseLayout>
